#!/bin/bash

echo -e "** Welcome in SPS, a ps command listing only process by strict name" > /dev/tty
echo -e "** Ex: sps.sh ssh-agent, returns only strict ssh-agent process." > /dev/tty

if [ $# -eq 0 ]
then
    echo -e "** Wrong usage! Please specify a process name!"  > /dev/tty
    exit 0
fi

process_name=$0

while read line
do
	pid=`echo $line | awk '{print $1}'`
	user=`echo $line | awk '{print $2}'`
	comm=`echo $line | awk '{print $3}'`

	echo se $comm in
	"ssh-agent")
	echo $comm
	;;
	esac

done < <(ps -e -o pid,user,comm | grep ssh-agent)  
